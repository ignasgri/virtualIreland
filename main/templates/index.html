{% extends 'base.html' %}
{% load static from staticfiles%}
{% load bootstrap_tags %}
<link rel="stylesheet" href="{% static 'css/index_grid.css' %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/3.4.2/css/swiper.min.css">
<link rel="stylesheet" href="{% static 'css/swiper.css' %}">
<script src="{% static 'js/geoloc.js' %}"></script>
{%block content%}


{% comment %} <div class="container">
<div class="title irelands_container">
  <img id="irelands_map" src="{% static 'images/ireland.png'%}" alt="irelands map">
  <h1>Find you destination</h1>
  <p>Click on map to discover new experience in 360 </p>
  <a href="#" id="get_location">Get my geolocation</a>
  <div id="map">
    <iframe id="google_map" src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d9521.012513439806!2d-6.259908!3d53.349012!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2sie!4v1508788125467" width="400" height="300" frameborder="0" style="border:0" allowfullscreen></iframe>
    <iframe id="google_map" width="425px" height="350px" src="https://maps.google.ie" frameborder="0"></iframe>
  </div>
</div>
</div> {% endcomment %}
  
<div class="container">
<div class="header">
<div class="swiper-container s1">
<div class="swiper-wrapper">
  {% for Set_Location in location %}
<div class="swiper-slide">



<div id="{{ location.id }}">
<div class="container">
<div class="sidebar sidebar_frame">
      <!-- Three columns of text below the carousel -->
          <img class="tail_image" src="{{MEDIA_URL}}{{ Set_Location.thumbnail_image}}" alt="Generic placeholder image">
          <h2 class="title_text">{{Set_Location.title}}</h2>
          <p>{{ Set_Location.content|truncatewords:10 }}</p>
              <!-- Swiper -->
    <div class="swiper-container s2">
        <div class="swiper-wrapper">
            <div class="swiper-slide"><TABLE>
                                      <TR id="row1">
                                        <TD>Distance
                                      <TR id="row2">
                                        <TD><i class="fal fa-map-marker" aria-hidden="true"></i>  100km (80mi)
                                      </TABLE>
            </div>
            <div class="swiper-slide"><TABLE>
                                      <TR id="row1">
                                        <TD>Mon  <TD>Tue  <TD>Wed
                                      <TR id="row2">
                                        <TD><i class="fal fa-cloud" aria-hidden="true"></i>+19   <TD><i class="fal fa-sun" aria-hidden="true"></i>+18   <TD><i class="fal fa-tint" aria-hidden="true"></i>+13 
                                      </TABLE>
            </div>
            <div class="swiper-slide"><TABLE>
                                      <TR id="row1">
                                        <TD>Rank
                                      <TR id="row2">
                                        <TD><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fal fa-star" aria-hidden="true"></i><i class="fal fa-star" aria-hidden="true"></i> 
                                      </TABLE>
            </div>
        </div>
        <!-- Add Pagination -->
        <div class="swiper-pagination"></div>
    </div>
<p><a class="btn btn-secondary" onclick="location.href='{% url 'location_details' Set_Location.id %}'" role="button">View details &raquo;</a></p>
    </div>
      </div>
    </div>
</div>

{% endfor %}
</div>
</div>

<div class="swiper-pagination"></div>
</div>

</div>



    
{% block sidebar %}
{% endblock sidebar%}

</div>
</div>
  


















{% comment %}<section> 
    <div id="myCarousel" class="carousel slide" data-ride="carousel">
      <ol class="carousel-indicators">
        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#myCarousel" data-slide-to="1"></li>
        <li data-target="#myCarousel" data-slide-to="2"></li>
      </ol>
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img class="first-slide" src="{% static "images/guinnessLake.jpg" %}" alt="First slide">
          <div class="container">
            <div class="carousel-caption d-none d-md-block text-left">
              <h1>Example headline.</h1>
              <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>
              <p><a class="btn btn-lg btn-primary" href="#" role="button">Sign up today</a></p>
            </div>
          </div>
        </div>
        <div class="carousel-item">
          <img class="second-slide" src="{% static "images/kenmare.jpg" %}" alt="Second slide">
          <div class="container">
            <div class="carousel-caption d-none d-md-block">
              <h1>Another example headline.</h1>
              <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>
              <p><a class="btn btn-lg btn-primary" href="#" role="button">Learn more</a></p>
            </div>
          </div>
        </div>
        <div class="carousel-item">
          <img class="third-slide" src="{% static "images/dunlaoghaire.jpg" %}" alt="Third slide">
          <div class="container">
            <div class="carousel-caption d-none d-md-block text-right">
              <h1>One more for good measure.</h1>
              <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>
              <p><a class="btn btn-lg btn-primary" href="#" role="button">Browse gallery</a></p>
            </div>
          </div>
        </div>
      </div>
      <a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>


    <!-- Marketing messaging and featurettes
    ================================================== -->
    <!-- Wrap the rest of the page in another container to center all the content. -->

    <div class="container marketing">

      <!-- Three columns of text below the carousel -->
      <div class="row">
        <div class="col-lg-4">
          <img class="rounded-circle" src="{% static "images/guinnessLake.jpg" %}" alt="Generic placeholder image" width="140" height="140">
          <h2>Lough Tay</h2>
          <p>Commonly called The Guinness Lake, is a small but scenic lake set on private property, in the Wicklow Mountains in County Wicklow, Ireland. It lies between the mountains of Djouce and Luggala, and is most easily viewed from above, from the R759 or the Wicklow Way as it descends past the J. B. Malone memorial. It is fed by the Cloghoge River, which then drains into Lough Dan to the south.[1] It is not possible to visit Lough Tay without prior permission.</p>
              <!-- Swiper -->
    <div class="swiper-container2">
        <div class="swiper-wrapper2">
            <div class="swiper-slide"><TABLE>
                                      <TR id="row1">
                                        <TD>Distance
                                      <TR id="row2">
                                        <TD><img id="icon" width="20px" src="{% static "images/sunny.png" %}"/>  100km (80mi)
                                      </TABLE>
            </div>
            <div class="swiper-slide"><TABLE>
                                      <TR id="row1">
                                        <TD>Mon  <TD>Tue  <TD>Wed
                                      <TR id="row2">
                                        <TD><span id="temperature">0</span>&deg;   <TD><i class="fal fa-sun" aria-hidden="true"></i>+18   <TD><i class="fal fa-tint" aria-hidden="true"></i>+13 
                                      </TABLE>
            </div>
            <div class="swiper-slide"><TABLE>
                                      <TR id="row1">
                                        <TD>Rank
                                      <TR id="row2">
                                        <TD><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fal fa-star" aria-hidden="true"></i><i class="fal fa-star" aria-hidden="true"></i> 
                                      </TABLE>
            </div>
        </div>
        <!-- Add Pagination -->
        <div class="swiper-pagination"></div>
    </div>
          <p><a class="btn btn-secondary" href="#" role="button">View details &raquo;</a></p>
        </div><!-- /.col-lg-4 -->
        <div class="col-lg-4">
          <img class="rounded-circle" src="{% static "images/kenmare.jpg" %}" alt="Generic placeholder image" width="140" height="140">
          <h2>Kenmare</h2>
          <p>Kenmare is a small town (population 2175 – CSO 2011) in the south of County Kerry, Ireland. The name Kenmare is the anglicised form of Ceann Mara[7] meaning "head of the sea", referring to the head of Kenmare Bay</p>
              <!-- Swiper -->
    <div class="swiper-container">
        <div class="swiper-wrapper">
            <div class="swiper-slide"><TABLE>
                                      <TR id="row1">
                                        <TD>Distance
                                      <TR id="row2">
                                        <TD><i class="fal fa-map-marker" aria-hidden="true"></i>  100km (80mi)
                                      </TABLE>
            </div>
            <div class="swiper-slide"><TABLE>
                                      <TR id="row1">
                                        <TD>Mon  <TD>Tue  <TD>Wed
                                      <TR id="row2">
                                        <TD><i class="fal fa-sun" aria-hidden="true"></i>+19   <TD><i class="fal fa-sun" aria-hidden="true"></i>+18   <TD><i class="fal fa-tint" aria-hidden="true"></i>+13 
                                      </TABLE>
            </div>
            <div class="swiper-slide"><TABLE>
                                      <TR id="row1">
                                        <TD>Rank
                                      <TR id="row2">
                                        <TD><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fal fa-star" aria-hidden="true"></i> 
                                      </TABLE>
            </div>
        </div>
        <!-- Add Pagination -->
        <div class="swiper-pagination"></div>
    </div>
          <p><a class="btn btn-secondary" href="#" role="button">View details &raquo;</a></p>
        </div><!-- /.col-lg-4 -->
        <div class="col-lg-4">
          <img class="rounded-circle" src="{% static "images/dunlaoghaire.jpg" %}" alt="Generic placeholder image" width="140" height="140">
          <h2>Dún Laoghaire</h2>
          <p>Dún Laoghaire is a suburban seaside town in County Dublin, Ireland, about 12 km (7.5 miles) south of Dublin city centre. It is the county town of Dún Laoghaire–Rathdown county. Formerly a major port of entry from Great Britain, from 1821 to 1920 it was named Kingstown.</p>
           <!-- Swiper -->
    <div class="swiper-container">
        <div class="swiper-wrapper">
            <div class="swiper-slide"><TABLE>
                                      <TR id="row1">
                                        <TD>Distance
                                      <TR id="row2">
                                        <TD><i class="fal fa-map-marker" aria-hidden="true"></i>  100km (80mi)
                                      </TABLE>
            </div>
            <div class="swiper-slide"><TABLE>
                                      <TR id="row1">
                                        <TD>Mon  <TD>Tue  <TD>Wed
                                      <TR id="row2">
                                        <TD><i class="fal fa-sun" aria-hidden="true"></i>+19   <TD><i class="fal fa-sun" aria-hidden="true"></i>+18   <TD><i class="fal fa-tint" aria-hidden="true"></i>+13 
                                      </TABLE>
            </div>
            <div class="swiper-slide"><TABLE>
                                      <TR id="row1">
                                        <TD>Rank
                                      <TR id="row2">
                                        <TD><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fal fa-star" aria-hidden="true"></i>
                                      </TABLE>
            </div>
        </div>
        <!-- Add Pagination -->
        <div class="swiper-pagination"></div>
    </div>
          <p><a class="btn btn-secondary" href="#" role="button">View details &raquo;</a></p>
        </div><!-- /.col-lg-4 -->
      </div><!-- /.row -->


      <!-- START THE FEATURETTES -->

      <hr class="featurette-divider">

      <div class="row featurette">
        <div class="col-md-7">
          <h2 class="featurette-heading">First featurette heading. <span class="text-muted">It'll blow your mind.</span></h2>
          <p class="lead">Donec ullamcorper nulla non metus auctor fringilla. Vestibulum id ligula porta felis euismod semper. Praesent commodo cursus magna, vel scelerisque nisl consectetur. Fusce dapibus, tellus ac cursus commodo.</p>
        </div>
        <div class="col-md-5">
          <img class="featurette-image img-fluid mx-auto" data-src="holder.js/500x500/auto" alt="Generic placeholder image">
        </div>
      </div>

      <hr class="featurette-divider">

      <div class="row featurette">
        <div class="col-md-7 order-md-2">
          <h2 class="featurette-heading">Oh yeah, it's that good. <span class="text-muted">See for yourself.</span></h2>
          <p class="lead">Donec ullamcorper nulla non metus auctor fringilla. Vestibulum id ligula porta felis euismod semper. Praesent commodo cursus magna, vel scelerisque nisl consectetur. Fusce dapibus, tellus ac cursus commodo.</p>
        </div>
        <div class="col-md-5 order-md-1">
          <img class="featurette-image img-fluid mx-auto" data-src="holder.js/500x500/auto" alt="Generic placeholder image">
        </div>
      </div>

      <hr class="featurette-divider">

      <div class="row featurette">
        <div class="col-md-7">
          <h2 class="featurette-heading">And lastly, this one. <span class="text-muted">Checkmate.</span></h2>
          <p class="lead">Donec ullamcorper nulla non metus auctor fringilla. Vestibulum id ligula porta felis euismod semper. Praesent commodo cursus magna, vel scelerisque nisl consectetur. Fusce dapibus, tellus ac cursus commodo.</p>
        </div>
        <div class="col-md-5">
          <img class="featurette-image img-fluid mx-auto" data-src="holder.js/500x500/auto" alt="Generic placeholder image">
        </div>
      </div>

      <hr class="featurette-divider">

      <!-- /END THE FEATURETTES -->


      <!-- FOOTER -->
      <footer>
        <p class="float-right"><a href="#">Back to top</a></p>
        <p>&copy; 2017</p>
      </footer>

    </div><!-- /.container -->
</section>{% endcomment %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/3.4.2/js/swiper.js"></script>
<script src="{% static 'js/swiper.js' %}"></script>
<script>
    var APPID = "f5069abcfd0981b52d3b633cb1033c5a";
    var temp;
    var loc;
    var icon;
    var humidity;
    var wind;
    var direction;
    var geo;
    var lat;
    var lng;
    
    
function updateByGeo(geo){
    var url = "http://api.openweathermap.org/data/2.5/weather?" +
        "lat=" + lat + '&lon=' + lng +
        "&APPID=" + APPID + "&units=metric";
    sendRequest(url);
}

function sendRequest(url){
    var xmlhttp = new XMLHttpRequest();
    xmlhttp.onreadystatechange = function(){
        if (xmlhttp.readyState == 4 && xmlhttp.status ==200){
            var data = JSON.parse(xmlhttp.responseText);
            var weather = {};
            weather.icon = data.weather[0].id;
            weather.humidity = data.main.humidity;
            weather.wind = data.wind.speed;
            weather.direction = data.wind.deg;
            weather.loc = data.name;
            weather.temp = roundNumbers(data.main.temp);
            update(weather);
        }
    };
    xmlhttp.open("GET", url, true);
    xmlhttp.send();
}
function roundNumbers (temp){
    return Math.round(temp);
}

function update(weather){
    wind.innerHTML = weather.wind;
    direction.innerHTML = weather.direction;
    humidity.innerHTML = weather.humidity;
    loc.innerHTML = weather.loc;
    temp.innerHTML = weather.temp;
    icon.src = "/static/images/" + weather.icon + ".png";
}

window.onload = function(){
    temp = document.getElementById("temperature");
    loc = document.getElementById("location");
    icon = document.getElementById("icon");
    humidity = document.getElementById("humidity");
    wind = document.getElementById("wind");
    direction = document.getElementById("direction");
    lat = ("{{ location.latitude}}");
    lng = ("{{ location.longitude }}");
    

    updateByGeo(geo);
}
</script>


{% endblock %}